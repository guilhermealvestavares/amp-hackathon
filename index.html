<!doctype html>
<html ⚡>
<head>
  <meta charset="utf-8">
  <title></title>
  <!-- <link rel="canonical" href="index.html"> adicionar canonical certa -->
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  <meta name="amp-script-src" content="sha384-YCFs8k-ouELcBTgzKzNAujZFxygwiqimSqKK7JqeKaGNflwDxaC3g2toj7s_kxWG">
  <script async src="https://cdn.ampproject.org/v0.js"></script>
  <script async custom-element="amp-bind" src="https://cdn.ampproject.org/v0/amp-bind-0.1.js"></script>
  <script async custom-element="amp-selector" src="https://cdn.ampproject.org/v0/amp-selector-0.1.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Nunito|Nunito+Sans&display=swap" rel="stylesheet">
  
  <style amp-custom>
    * {
      font-family: 'Nunito', sans-serif;
      color: #4a4a4a;
      box-sizing: border-box;
    }
    .container{
      width: 100%;
      max-width: 320px;
      padding: 0 1.5em;
      min-height:100vh;
      margin:0 auto;
    } 
    .flex-column-center-all{
      display:flex;
      justify-content: center;
      align-items: stretch;
      flex-direction: column;
    }
    input{
      display: block;
      padding: .75rem;
      border: .0625em solid #ddd;
      border-radius: .125em;
      color:#4a4a4a;
      width: 100%;
      margin-bottom:12px;
    }
    .btnSubmit{
      display:block;
      width: 100%;
      margin-top:8px;
      background-color: #bcf236;
      color: #2a2a2a;
      padding: 1.0625rem 1.625rem;
      border: .0625em solid transparent;
      border-radius: .25em;
      text-transform: uppercase;
      text-align: center;
      cursor: pointer;
      color: #4a4a4a;
      font-size: 12px;
      font-weight: 500;
      line-height: 16px;
      text-transform: uppercase;
    }
    .step__title{
      font-family: Work Sans,sans-serif;
      font-size: 12px;
      font-weight: 500;
      line-height: 16px;
      text-transform: uppercase;
      text-align: left;
      margin-bottom: .5rem;
    }
    .step__help {
      font-size: 10px;
      margin: 0 0 .5rem;
    }
    .show{
      display:block
    }
    .hide{
      display:none;
    }
    .highlighted {
      font-weight: 600;
    }
    .option{
      background: #fff;
      border-radius: 5px;
      border: 1px solid hsla(240,8%,57%,.2);
      box-shadow: 0 10px 25px 0 hsla(240,8%,57%,.25);
      width: 100%;
      min-height: 120px;
      margin: 1.5rem 0;
      padding:1.5rem;
      display:flex;
      align-items: center;
      justify-content: center;
    }
    .option:first-child{
      margin-top: 0;
    }
    .select-options--inline{
      display: flex;
      justify-content: space-between;
    }
    .select-options--inline .option{
      height: auto;
      min-height: 0;
      width: calc(50% - .5rem);
      margin: 0;
    }
  </style>

    
    

  </style>
  
  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
</head>
<body>
  <amp-state id="coreState">
    <script type="application/json">
      {
        "infos": {
          "name": "",
          "reason": "",
          "value": 0,
          "pledgeAuto": false,
          "pledgeHome": false,
          "pledgePayroll": false
        },
        "steps": {
          "step1": true,
          "step2": false,
          "step3": false,
          "step4": false,
          "step5": false,
          "step6": false,
          "step7": false
        }
      }
    </script>
  </amp-state>

  <div class="container flex-column-center-all">
    <div class="step" [class]="coreState.steps.step1 ? 'show' : 'hide'">
      <h3 class="step__title">Qual o seu nome?</h3>
      <input 
        id="inputName" 
        name="inputName"
        on="input-throttled:AMP.setState({
          coreState: {
            infos: { 
              name: event.value
            }
          }
        }
      })">
      <button 
        class="btnSubmit"
        on="tap:AMP.setState({
          coreState: {
            steps: {
              step1: coreState.infos.name != '' ? false : true,
              step2: coreState.infos.name != '' ? true : false,
            }
          }
        }
      })">
      Próximo
    </button>
  </div>
  
  <div class="step hide" [class]="coreState.step2.hide ? 'hide' : 'show'">
    <h3 class="step__title">Porque?</h3>
    <amp-selector 
    class="select-options" 
    layout="container"
    on="select:AMP.setState({
      coreState: {
        step2: {
          value: event.selectedOptions,
          hide: true
        },
        step3: {
          hide: false
        }
      }
    })">
    <div option="Dívidas" class="option">
      <span>Dívidas</span>
    </div>

    <div class="step hide" [class]="coreState.steps.step2 ? 'show' : 'hide'">
      <h3 class="step__title">Porque?</h3>
      <amp-selector 
        class="select-options" 
        layout="container"
        on="select:AMP.setState({
          coreState: {
            infos: { 
              reason: event.selectedOptions
            },
            steps: {
              step2: false,
              step3: true,
            }
          }
        })">
        <div option="Dívidas" class="option">
          <span>Dívidas</span>
        </div>
        <div option="Viagem" class="option">
          <span>Viagem</span>
        </div>
        <div option="Investir" class="option">
          <span>Investir</span>
        </div>
      </amp-selector>
    </div>

    <div class="step hide" [class]="coreState.steps.step3 ? 'show' : 'hide'">
      <h2 class="step__title">Quanto?</h2>
      <p class="step__help">
        Digite o valor sem os centávos.<br>
        Ex.: para <span class="highlighted">R$ 10.000,00</span> digite apenas: <span class="highlighted">10000</span>
      </p>
      <input 
        id="inputValue" 
        name="inputValue"
        type="text"
        min="0"
        on="input-throttled:AMP.setState({
          coreState: {
            infos: { 
              value: event.value
            }
          }
        })">
      <button 
        class="btnSubmit"
        on="tap:AMP.setState({
          coreState: {
            steps: {
              step3: coreState.infos.value != '' ? false : true,
              step4: coreState.infos.value != '' ? true : false,
            }
          }
        })">
        Próximo
      </button>
    </div>
  </amp-selector>
</div>

    <div class="step hide" [class]="coreState.steps.step4 ? 'show' : 'hide'">
      <h3 class="step__title">Você tem um carro?</h3>
      <amp-selector 
        class="select-options select-options--inline" 
        layout="container"
        on="select:AMP.setState({
          coreState: {
            infos: {
              pledgeAuto: event.selectedOptions
            },
            steps: {
              step4: false,
              step5: true
            }
          }
        })">
        <div option="true" class="option">
          <span>Sim</span>
        </div>
        <div option="false" class="option">
          <span>Não</span>
        </div>
      </amp-selector>
    </div>

    <div class="step hide" [class]="coreState.steps.step5 ? 'show' : 'hide'">
      <h3 class="step__title">Você tem uma casa?</h3>
      <amp-selector 
        class="select-options select-options--inline" 
        layout="container"
        on="select:AMP.setState({
          coreState: {
            infos: {
              pledgeHome: event.selectedOptions
            },
            steps: {
              step5: false,
              step6: true
            }
          }
        })">
        <div option="true" class="option">
          <span>Sim</span>
        </div>
        <div option="false" class="option">
          <span>Não</span>
        </div>
      </amp-selector>
    </div>

    <div class="step hide" [class]="coreState.steps.step6 ? 'show' : 'hide'">
      <h3 class="step__title">Você trabalha em empresa privada?</h3>
      <amp-selector 
        class="select-options select-options--inline" 
        layout="container"
        on="select:AMP.setState({
          coreState: {
            infos: {
              pledgePayroll: event.selectedOptions
            },
            steps: {
              step6: false,
              step7: true
            }
          }
        })">
        <div option="true" class="option">
          <span>Sim</span>
        </div>
        <div option="false" class="option">
          <span>Não</span>
        </div>
      </amp-selector>
    </div>

    <div class="step hide" [class]="coreState.steps.step7 ? 'show' : 'hide'">
      <strong>Resultado Final</strong>
    </div>

    <div style="font-size: 12px;">
      <br>
      <strong>STATE do Quiz</strong>
      <div>Nome: <span [text]="coreState.infos.name"></span></div>
      <div>Motivo: <span [text]="coreState.infos.reason"></span></div>
      <div>Valor: <span [text]="coreState.infos.value"></span></div>
      <div>Tem carro? <span [text]="coreState.infos.pledgeAuto ? 'Sim' : 'Não'"></span></div>
      <div>Tem casa? <span [text]="coreState.infos.pledgeHome ? 'Sim' : 'Não'"></span></div>
      <div>Trabalha em empresa privada? <span [text]="coreState.infos.pledgePayroll ? 'Sim' : 'Não'"></span></div>

      <br>
      <hr>
      <br>

      <strong>Primeiro Step</strong> <div>Exibir Step?: <span [text]="coreState.steps.step1"></span></div>
      <br>
      <strong>Segundo Step</strong> <div>Exibir Step?: <span [text]="coreState.steps.step2"></span></div>
      <br>
      <strong>Terceiro Step</strong> <div>Exibir Step?: <span [text]="coreState.steps.step3"></span></div>
      <br>
      <strong>Quarto Step</strong> <div>Exibir Step?: <span [text]="coreState.steps.step4"></span></div>
      <br>
      <strong>Quinto Step</strong> <div>Exibir Step?: <span [text]="coreState.steps.step5"></span></div>
      <br>
      <strong>Sexto Step</strong> <div>Exibir Step?: <span [text]="coreState.steps.step6"></span></div>
      <br>
      <strong>Sétimo Step</strong> <div>Exibir Step?: <span [text]="coreState.steps.step7"></span></div>

      <br><br>
    </div>
  </div>
</body>
</head>
</html>