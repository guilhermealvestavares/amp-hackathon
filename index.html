<!doctype html>
<html ⚡>
<head>
  <meta charset="utf-8">
  <title></title>
  <!-- <link rel="canonical" href="index.html"> adicionar canonical certa -->
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  <script async src="https://cdn.ampproject.org/v0.js"></script>
  <script async custom-element="amp-bind" src="https://cdn.ampproject.org/v0/amp-bind-0.1.js"></script>
  <script async custom-element="amp-selector" src="https://cdn.ampproject.org/v0/amp-selector-0.1.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Nunito|Nunito+Sans&display=swap" rel="stylesheet">
  <script async custom-template="amp-mustache" src="https://cdn.ampproject.org/v0/amp-mustache-0.2.js"></script>
  
  <style amp-custom>
    * {
      font-family: 'Nunito', sans-serif;
      box-sizing: border-box;
      margin:0;
    }
    .hideResults{display:none;}
    .showResults{display:block;}
    .container{
      width: 100%;
      max-width: 1440px;
      padding: 0 1.5em;
      margin:0 auto;
    } 

    .container-full{
      padding: 0 1.5em;
    }

    .hero{
      padding-top: 90px;
      height: 631px;
      width:100%;
      background-color: #11bb77;
    }

    .title{
      margin-top:12px;
      width: 278px;
      font-size: 24px;
      line-height: 1.33;
      color: #ffffff;
      font-weight: normal;
    }

    .subtitle{
      width: 100%;
      font-size: 72px;
      font-weight: bold;
      line-height: 1.11;
      color: #ffffff;
    }

    .subtitle span{
      display:block;
    }

    .text-description{
      margin:42px 0 24px 0;
      width: 770px;
      height: 64px;
      font-size: 24px;
      font-weight: normal;
      line-height: 1.33;
      color: #ffffff;
    }

    .separator{
      width: 40px;
      height: 8px;
      border-radius: 4px;
      background-color: #ffffff;
      margin-bottom:36px;
    }

    .flex-center-center{
      display:flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      width:100%;
    }
    .flex-start-center--column{
      display:flex;
      justify-content: flex-start;
      align-items: center;
      flex-direction: column;
      text-align: center;
    }

    .flex-column-center-all{
      display:flex;
      justify-content: center;
      align-items: stretch;
      flex-direction: column;
    }
    
    .btn-iniciar-quiz{
      width: 370px;
      height: 48px;
      border-radius: 8px;
      background-color: #3377bb;
      display:flex;
      justify-content: center;
      align-items:center;
      color: #ffffff;
      font-weight: bold;
      text-transform:uppercase;
      display:flex;
    }

    @media only screen and (max-width: 767px) {
      
      .hero{
        height:424px;
        padding-top:24px;
      }

      .title{
        font-size: 16px;
        width:187px;
      }
      .subtitle{
        width:300px;
        font-size:32px;
      }
      .subtitle span{
      display:inline;
      color:#ffffff;
    }
      .text-description{
        margin-top:16px;
        width:280px;
        font-size:16px;
        line-height: 1.5;
      }
      .separator{
        margin-top:24px;
      }
      .flex-start-center--column{
        align-items: flex-start;
        text-align: left;
      }

      .btn-iniciar-quiz{
        width: 100%;
      }
    
    }

    input{
      display: block;
      padding: .75rem;
      border: .0625em solid #ddd;
      border-radius: .125em;
      color:#4a4a4a;
      width: 100%;
      margin-bottom:12px;
    }
    .btnSubmit{
      display:block;
      width: 100%;
      margin-top:8px;
      background-color: #bcf236;
      color: #2a2a2a;
      padding: 1.0625rem 1.625rem;
      border: .0625em solid transparent;
      border-radius: .25em;
      text-transform: uppercase;
      text-align: center;
      cursor: pointer;
      color: #4a4a4a;
      font-size: 12px;
      font-weight: 500;
      line-height: 16px;
      text-transform: uppercase;
    }
    .step__title{
      font-family: Work Sans,sans-serif;
      font-size: 12px;
      font-weight: 500;
      line-height: 16px;
      text-transform: uppercase;
      text-align: left;
      margin-bottom: .5rem;
    }
    .step__help {
      font-size: 10px;
      margin: 0 0 .5rem;
    }
    .show{
      display:block
    }
    .hide{
      display:none;
    }
    .highlighted {
      font-weight: 600;
    }
    .option{
      background: #fff;
      border-radius: 5px;
      border: 1px solid hsla(240,8%,57%,.2);
      box-shadow: 0 10px 25px 0 hsla(240,8%,57%,.25);
      width: 100%;
      min-height: 120px;
      margin: 1.5rem 0;
      padding:1.5rem;
      display:flex;
      align-items: center;
      justify-content: center;
    }
    .option:first-child{
      margin-top: 0;
    }
    .select-options--inline{
      display: flex;
      justify-content: space-between;
    }
    .select-options--inline .option{
      height: auto;
      min-height: 0;
      width: calc(50% - .5rem);
      margin: 0;
    }
    .table-success__home, .table-success__auto, .table-success__payroll{
      background: #fff;
      border-radius: 5px;
      border: 1px solid hsla(240,8%,57%,.2);
      box-shadow: 0 10px 25px 0 hsla(240,8%,57%,.25);
      width: 100%;
      min-height: 120px;
      margin: 1.5rem 0;
      padding:1.5rem;
    }
    
    table{
      width:100%;
      font-size:16px;
      border-collapse: collapse;
    }
    
    table td{
      border: 1px solid hsla(240,8%,57%,.2);
      height:48px;
      text-align: center;
    }
    
    table td span{
      font-weight: 600;
    }
  </style>
  
  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
</head>
<body>
  <amp-state id="coreState">
    <script type="application/json">
      {
        "infos": {
          "name": "",
          "reason": "",
          "value": 0,
          "pledgeAuto": "",
          "pledgeHome": "",
          "pledgePayroll": ""
        },
        "currentStep": 0,
        "products":{
          "payroll":false,
          "auto":false,
          "home":false
        }
      }
    </script>
  </amp-state>

  <amp-bind-macro 
    id="isValidPrice" 
    arguments="price" 
    expression="price != '' && (+price) >= 1000 && (+price) <= 3000000">
  </amp-bind-macro>

  <section class="hero container-full flex-start-center--column">
    <h1 class="title">Quiz empréstimo Creditas</h1>
    <h2 class="subtitle">Descubra qual é o melhor empréstimo pra você!</h2>
    <h3 class="text-description">Vamos te ajudar a encontrar o empréstimo que se encaixa no seu perfil. Responda as perguntas do Quiz e descubra!</h3>
    <span class="separator"></span>
    <div class="flex-center-center" [class]="coreState.currentStep == 0 ? 'flex-center-center show' : 'flex-center-center hide'">
      <button 
        type="button"
        class="btn-iniciar-quiz"
        on="tap:AMP.setState({
          coreState: {
            currentStep: 1
          }
        })">
        Iniciar o Quiz
      </button>
    </div>
  </section>

  <div class="container flex-column-center-all">
    <div class="step hide" [class]="coreState.currentStep == 1 ? 'step show' : 'step hide'">
      <h3 class="step__title">Qual o seu nome?</h3>
      <input 
        id="inputName" 
        name="inputName"
        on="input-throttled:AMP.setState({
          coreState: {
            infos: { 
              name: event.value
            }
          }
        })">
      <button 
        class="btnSubmit"
        on="tap:AMP.setState({
          coreState: {
            currentStep: coreState.infos.name != '' ? 2 : 1
          }
        })">
        Próximo
      </button>
    </div>
    
    <div class="step hide" [class]="coreState.currentStep == 2 ? 'step show' : 'step hide'">
      <h3 class="step__title">Porque?</h3>
      <amp-selector 
        class="select-options" 
        layout="container"
        on="select:AMP.setState({
          coreState: {
            infos: { 
              reason: event.selectedOptions
            },
            currentStep: 3
          }
        })">
        <div option="Dívidas" class="option">
          <span>Dívidas</span>
        </div>
        <div option="Viagem" class="option">
          <span>Viagem</span>
        </div>
        <div option="Investir" class="option">
          <span>Investir</span>
        </div>
      </amp-selector>
    </div>

    <div class="step hide" [class]="coreState.currentStep == 3 ? 'step show' : 'step hide'">
      <h2 class="step__title">Quanto?</h2>
      <p class="step__help">
        Digite o valor sem os centávos.<br>
        Ex.: para <span class="highlighted">R$ 10.000,00</span> digite apenas: <span class="highlighted">10000</span>
      </p>
      <input 
        id="inputValue" 
        name="inputValue"
        type="number"
        min="0"
        on="input-throttled:AMP.setState({
          coreState: {
            infos: { 
              value: event.value
            }
          }
        })">
        <button 
          class="btnSubmit"
          on="tap:AMP.setState({
            coreState: {
              currentStep: isValidPrice(coreState.infos.value) ? 4 : 3
            }
          })">
        Próximo
        </button>
    </div>

    <div class="step hide" [class]="coreState.currentStep == 4 ? 'step show' : 'step hide'">
      <h3 class="step__title">Você tem um carro?</h3>
      <amp-selector 
        class="select-options select-options--inline" 
        layout="container"
        on="select:AMP.setState({
          coreState: {
            products: {
              auto: event.selectedOptions == 'true'
            },
            currentStep: 5
          }
        })">
        <div option="true" class="option">
          <span>Sim</span>
        </div>
        <div option="false" class="option">
          <span>Não</span>
        </div>
      </amp-selector>
    </div>

    <div class="step hide" [class]="coreState.currentStep == 5 ? 'step show' : 'step hide'">
      <h3 class="step__title">Você tem uma casa?</h3>
      <amp-selector 
        class="select-options select-options--inline" 
        layout="container"
        on="select:AMP.setState({
          coreState: {
            products: {
              home: event.selectedOptions == 'true'
            },
            currentStep: 6
          }
        })">
        <div option="true" class="option">
          <span>Sim</span>
        </div>
        <div option="false" class="option">
          <span>Não</span>
        </div>
      </amp-selector>
    </div>

    <div class="step hide" [class]="coreState.currentStep == 6 ? 'step show' : 'step hide'">
      <h3 class="step__title">Você trabalha em empresa privada?</h3>
      <amp-selector 
        class="select-options select-options--inline" 
        layout="container"
        on="select:AMP.setState({
          coreState: {
            products: {
              payroll: event.selectedOptions == 'true'
            },
            currentStep: 7
          }
        })">
        <div option="true" class="option">
          <span>Sim</span>
        </div>
        <div option="false" class="option">
          <span>Não</span>
        </div>
      </amp-selector>
    </div>

    <div class="step hide" [class]="coreState.currentStep == 7 ? 'show' : 'hide'">
      <div class="table-success__home" [class]="coreState.products.home && (+coreState.infos.value) >= 30000 && (+coreState.infos.value) <= 3000000 ? 'show' : 'hide'">
        <h2>Garantia de imóvel</h2>
        <table>
          <tr>
            <td>
              <span>60x</span>
            </td>
            <td [text]="((+coreState.infos.value) * 0.022) + ',00' ">
            </td>
          </tr>
          <tr>
            <td>
              <span>120x</span>
            </td>
            <td [text]="(+coreState.infos.value) * 0.014 + ',00'">
            </td>
          </tr>
          <tr>
            <td>
              <span>180x</span>
            </td>
            <td [text]="(+coreState.infos.value) * 0.011 + ',00'">
            </td>
          </tr>
        </table>
        <a class="btnSubmit"> Simule agora </a>
      </div>

      <div class="table-success__auto" [class]="coreState.products.auto && ((+coreState.infos.value) >= 5000 && (+coreState.infos.value) <= 150000) && (coreState.products.home == false)  ? 'show' : 'hide'">
        <h2>Garantia de veículo</h2>
        <table>
          <tr>
            <td>
              <span>12x</span>
            </td>
            <td [text]="((+coreState.infos.value) * 0.091) + ',00' ">
            </td>
          </tr>
          <tr>
            <td>
              <span>24x</span>
            </td>
            <td [text]="((+coreState.infos.value) * 0.049) + ',00' ">
            </td>
          </tr>
          <tr>
            <td>
              <span>36x</span>
            </td>
            <td [text]="((+coreState.infos.value) * 0.036) + ',00'">
            </td>
          </tr>
        </table>
        <a class="btnSubmit"> Simule agora </a>
      </div>

      <div class="table-success__payroll" [class]="coreState.products.payroll && (+coreState.infos.value) >= 1000 && (+coreState.infos.value) <= 50000 && coreState.products.home == false && coreState.products.auto == false ? 'show' : 'hide'"> 
        <h2>Garantia de Salário</h2>
        <table>
          <tr>
            <td>
              <span>6x</span>
            </td>
            <td [text]="((+coreState.infos.value) * 0.177) + ',00'">
            </td>
          </tr>
          <tr>
            <td>
              <span>24x</span>
            </td>
            <td [text]="((+coreState.infos.value) * 0.049) + ',00'">
            </td>
          </tr>
          <tr>
            <td>
              <span>48x</span>
            </td>
            <td [text]="((+coreState.infos.value) * 0.036) + ',00'">
            </td>
          </tr>
        </table>
        <a class="btnSubmit"> Simule agora </a>
      </div>

      <div class="table-error" [class]="(coreState.products.home == false && coreState.products.auto == false && coreState.products.payroll == false) || ((+coreState.infos.value) < 1000 && (+coreState.infos.value) < 3000001) ? 'show' : 'hide'"> 
        <h2>Não temos nem um produto para o seu perfil</h2>
        <a class="btnSubmit"> Simule novamente </a>
      </div>
    </div>
  </div>
</body>
</head>
</html>